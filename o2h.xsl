<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
	<xsl:output method="text"/>
	<xsl:template match="/unit">
<xsl:text>
#ifndef __GRS_IDS_H__
#define __GRS_IDS_H__
/*
 * This file was automatically generated by o2h.xsl, don't edit!
 */

#include &lt;gr/gr.h&gt;

typedef struct {
	int size;

/* NODES + NODE ATTRIBUTES */

</xsl:text>
		<xsl:for-each select="node_type">
			<xsl:text>	gr_id_t N_</xsl:text>
			<xsl:value-of select="@name"/>
<xsl:text>;
</xsl:text>
			<xsl:for-each select="attributes/entity">
				<xsl:text>	gr_id_t NA_</xsl:text>
				<xsl:value-of select="../../@name"/>
				<xsl:text>__</xsl:text>
				<xsl:value-of select="@name"/>
<xsl:text>;
</xsl:text>
			</xsl:for-each>
		</xsl:for-each>
<xsl:text>

/* EDGES + EDGE ATTRIBUTES */

</xsl:text>
		<xsl:for-each select="edge_type">
			<xsl:text>	gr_id_t E_</xsl:text>
			<xsl:value-of select="@name"/>
<xsl:text>;
</xsl:text>
			<xsl:for-each select="attributes/entity">
				<xsl:text>	gr_id_t EA_</xsl:text>
				<xsl:value-of select="../../@name"/>
				<xsl:text>__</xsl:text>
				<xsl:value-of select="@name"/>
<xsl:text>;
</xsl:text>
			</xsl:for-each>
		</xsl:for-each>
<xsl:text>
} grs_ids_t;

/* Fills in the grs_ids structure. */
void grs_init_ids(gr_graph_t* graph, grs_ids_t *grs_ids);

#endif /* __GRS_IDS_H__ */

</xsl:text>

<!--
/**********************************************************/

struct {
</xsl:text>
		<xsl:for-each select="enum_type">
			<xsl:text>	gr_id_t T_</xsl:text>
			<xsl:value-of select="@name"/>
<xsl:text>
</xsl:text>
		</xsl:for-each>
} gudrun;
-->

	</xsl:template>
</xsl:stylesheet>

